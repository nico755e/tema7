<!DOCTYPE html>
<html lang="da">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bistro Babushka</title>
</head>

<body>
	<article class="article">
		<img src="" alt="" class="billede">
		<h2 class="navn"></h2>
		<p class="pris"></p>
		<p class="kortbeskrivelse"></p>
		<p class="langbeskrivelse"></p>
		<p class="oprindelsesregion"></p>
		<button>
			<p>Tilbage til oversigten</p>
		</button>
	</article>



	<script>
		const urlParams = new URLSearchParams(window.location.search);
		const id = urlParams.get("id");

		const medieurl = "https://babushka-dd8a.restdb.io/media/";
		const myHeaders = {

			"x-apikey": "600ec2fb1346a1524ff12de4"
		}
		document.addEventListener("DOMContentLoaded", loadJSON)

		async function loadJSON() {
			const JSONData = await fetch(`https://babushka-dd8a.restdb.io/rest/menu/${id}`, {
				headers: myHeaders
			});
			ret = await JSONData.json();

			console.log("Retter", ret);
			visDetaljer(ret);
		}

		function visDetaljer() {
			document.querySelector(".navn").textContent = ret.navn;
			document.querySelector(".billede").src = medieurl + ret.billede;
			document.querySelector(".langbeskrivelse").textContent = ret.langbeskrivelse;
			document.querySelector(".pris").textContent = `Pris: ${ret.pris},-`;
			document.querySelector("button").addEventListener("click", tilbageTilOversigten);
		}

		function tilbageTilOversigten() {
			history.back();
		}
	</script>

</body></html>
